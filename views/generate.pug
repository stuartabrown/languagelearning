extends layout

//- block content
//-   h2 Welcome #{username}.
//-   p This is where you will generate content.

//-   form(action=`/${username}/generate` method="POST")
//-     label(for="language") Select Language:
//-     select(name="language")
//-       each language in languageOptions
//-         option(value=language) #{language}
//-     br
//-     label(for="prompt") Enter Prompt:
//-     textarea(name="prompt" required)
//-     br
//-     button(type="submit") Generate




//- extends layout

block content
  h2 Generate Language Learning Content
  form.needs-validation(method='POST', action=`/${username}/generate`, novalidate)
    .mb-3
      label.form-label(for="language") Language:
      select.form-select(name="language", id="language", required)
        each language in languageOptions
          option(value=language)= language
      div.invalid-feedback Please select a language.
    .mb-3
      label.form-label(for="prompt") Prompt:
      textarea.form-control(name="prompt", id="prompt", rows="5", required)
      div.invalid-feedback Please enter a prompt.
    button.btn.btn-primary(type="submit") Generate Content
    button.btn.btn-primary(type="button") Primary Button
    button.btn.btn-secondary(type="button") Secondary Button
    script.
      (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')
          }, false)
        })
      })()
